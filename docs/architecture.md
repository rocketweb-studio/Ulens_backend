1.В папке src/modules будут папки с модулями Blog, Post, Comment и тд
2.core.module.ts будет принимать в imports и провайдить провайдить наши сторонние модули Prisma, GraphQL и тд 
    в main.module.ts

# Архитектура проекта Ulens_backend

## Общая структура

Проект построен на основе **NestJS** с использованием **монорепозитория** (monorepo) архитектуры. Это означает, что в одном репозитории содержится несколько независимых приложений, которые могут работать как отдельно, так и вместе.

## Структура папок

### Корневая директория
- **`apps/`** - основная папка с приложениями
- **`docs/`** - документация проекта
- **`dist/`** - скомпилированные файлы
- **`node_modules/`** - зависимости проекта

### Приложения (apps/)

#### 1. **`apps/main/`** - Главное приложение
- **`src/`** - исходный код
  - **`core/`** - ядро приложения(конфигурация, базовые зависимости, Prisma, GraphQL, общие сервисы)
    - **`Prisma/`** - модуль для работы с базой данных
    - **`env-config/`** - конфигурация окружения
    - **`core.module.ts`** - основной модуль ядра
    - **`core.config.ts`** - конфигурация ядра
  - **`modules/`** - бизнес-модули
  - **`utils/`** - утилиты
  - **`main.module.ts`** - главный модуль приложения
  - **`main.ts`** - точка входа
- **`test/`** - тесты
- **`Dockerfile`** - контейнеризация
- **`Jenkinsfile`** - CI/CD конфигурация

#### 2. **`apps/auth/`** - Сервис аутентификации
- **`src/`** - исходный код
  - **`core/`** - ядро сервиса
  - **`utils/`** - утилиты
  - **`auth.module.ts`** - модуль аутентификации
  - **`auth.controller.ts`** - контроллер аутентификации
  - **`auth.service.ts`** - сервис аутентификации
- **`test/`** - тесты

#### 3. **`apps/files/`** - Сервис работы с файлами
- **`src/`** - исходный код
  - **`core/`** - ядро сервиса
  - **`utils/`** - утилиты
  - **`files.module.ts`** - модуль файлов
  - **`files.controller.ts`** - контроллер файлов
  - **`files.service.ts`** - сервис файлов
- **`test/`** - тесты

#### 4. **`apps/payments/`** - Сервис платежей
- **`src/`** - исходный код
  - **`core/`** - ядро сервиса
  - **`utils/`** - утилиты
  - **`payments.module.ts`** - модуль платежей
  - **`payments.controller.ts`** - контроллер платежей
  - **`payments.service.ts`** - сервис платежей
- **`test/`** - тесты

## Архитектурные принципы

### 1. **Модульная архитектура**
- Каждое приложение имеет свою собственную структуру
- Используется паттерн модулей NestJS
- Четкое разделение ответственности между компонентами

### 2. **Ядро (Core)**
- **`CoreModule`** - центральный модуль, который предоставляет базовые зависимости
- Включает конфигурацию окружения, Prisma, GraphQL и другие сторонние модули
- Экспортирует общие сервисы для использования в других модулях

### 3. **Конфигурация**
- Используется система конфигурации на основе переменных окружения
- Валидация конфигурации через `class-validator`
- Централизованное управление базовыми настройками через `CoreEnvConfig`

### 4. **Микросервисная архитектура**
- Каждое приложение может работать независимо
- Возможность горизонтального масштабирования
- Изолированные контейнеры для каждого сервиса

## Технологический стек

- **Framework**: NestJS
- **Language**: TypeScript
- **Database**: Prisma (ORM)
- **API**: GraphQL (планируется)
- **Containerization**: Docker
- **CI/CD**: Jenkins
- **Testing**: Jest
- **Code Quality**: ESLint, Prettier

## Разработка и развертывание

### Локальная разработка
- Каждое приложение можно запускать отдельно
- Используются скрипты для разработки: `start:dev:main`, `start:dev:auth`, etc.
- Hot reload для разработки

### Продакшн
- Контейнеризация через Docker
- Автоматическое развертывание через Jenkins
- Отдельные конфигурации для каждого окружения

## Планы развития

Согласно документации, планируется:
1. Добавление модулей Blog, Post, Comment в `src/modules/`
2. Интеграция GraphQL
3. Расширение функциональности Prisma модуля
4. Развитие микросервисной архитектуры

Эта архитектура обеспечивает масштабируемость, поддерживаемость и гибкость при разработке сложных приложений. 
 